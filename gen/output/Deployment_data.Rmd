---
title: "The influence of the Primavera Sound festival on Airbnb prices"
output: pdf_document
date: "2024-03-25"
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

```{r, message = FALSE, include=FALSE}
load("model_results.RData")
library(stringr)

```

## Hypotheses

In this paper we are researching two hypoteses, concerning Airbnb prices during the festival Primavera Sound in Barcelona. The two research questions we are looking into are: 

"Does the presence of a Summer Music Festival influence the prices of Airbnb listings in the respective city?"

"Is it possible to create a model that helps Airbnb hosts to define the pricings of their listings?"

To answer these hypotheses, two datasets for Airbnb listings are used and analyzed. From the data sets, the prices from during and before/after the festival are compared for the listings that are within 5 kilometers of the festival. The research objective is to discover if the prices for the Airbnb listings during the festival are different from normal, and if a model can be created that predicts these price differences. 



## Research analysis and results

For the analysis of this research the means for the prices of the listings within 5 kilometers of the festival, are calculated and compared for during the festival and before/after. Moreover, four different linear regression are performed to get a deeper understanding of the differences between these periods. 

First of all, the summary statistics for the price during Primavera Sound and during a normal period are presented below (Table 1). From the table can be concluded that the prices for during the festival are on average higher than the prices when the festival is not happening. This is further proven by the linear regression in table 2. The table shows that when the festival is not currently happening, the price of the listing is lowered by approximately 13.23. 


```{r, echo=FALSE}
# Calculate summary statistics of mean_price_during
min_value_during <- min(mean_price_during)
q1_value_during <- quantile(mean_price_during, probs = 0.25)
median_value_during <- median(mean_price_during)
mean_value_during <- mean(mean_price_during)
q3_value_during <- quantile(mean_price_during, probs = 0.75)
max_value_during <- max(mean_price_during)

# Calculate summary statistics of mean_price_off
min_value_off <- min(mean_price_off)
q1_value_off <- quantile(mean_price_off, probs = 0.25)
median_value_off <- median(mean_price_off)
mean_value_off <- mean(mean_price_off)
q3_value_off <- quantile(mean_price_off, probs = 0.75)
max_value_off <- max(mean_price_off)

# Convert percentiles to numerical values
q1_value_during <- as.numeric(q1_value_during)
q3_value_during <- as.numeric(q3_value_during)
q1_value_off <- as.numeric(q1_value_off)
q3_value_off <- as.numeric(q3_value_off)

# Create a data frame with summary statistics for mean_price_during and mean_price_off
summary_df <- data.frame(
  Variable = c("mean_price_during", "mean_price_off"),
  Mean = c(mean_value_during, mean_value_off),
  Median = c(median_value_during, median_value_off),
  Min = c(min_value_during, min_value_off),
  Max = c(max_value_during, max_value_off),
  Q1 = c(q1_value_during, q1_value_off),
  Q3 = c(q3_value_during, q3_value_off)
)


knitr::kable(summary_df, caption = "Summary statistics of the price during the festival and and normally")




```

```{r, echo=FALSE}

coefficients3 <- coef(price_off_during)
std_errors3 <- summary(price_off_during)$coef[, "Std. Error"]
t_values3 <- coefficients3 / std_errors3
p_values3 <- summary(price_off_during)$coef[, "Pr(>|t|)"]


regression_summary3 <- data.frame(
  Coefficients = coefficients3,
  `Std. Error` = std_errors3,
  `t value` = t_values3,
  `Pr(>|t|)` = p_values3
)


knitr::kable(regression_summary3, format = "markdown", digits = 4, caption = "The influence of the festival Primavera Sound on the price of Airbnb listings")



```


Furthermore, Table 3 and 4 show that the minimum amounts of nights that you need to rent the listing, has an extremely different effect on the price of the listing during the festival. Before and after Primavera Sound, the price of the listings gets lower when the minimum amounts of nights is higher, while during the festival this is the opposite. 


```{r, echo=FALSE}

coefficients <- coef(minimum_nights_during_festival)
std_errors <- summary(minimum_nights_during_festival)$coef[, "Std. Error"]
t_values <- coefficients / std_errors
p_values <- summary(minimum_nights_during_festival)$coef[, "Pr(>|t|)"]


regression_summary <- data.frame(
  Coefficients = coefficients,
  `Std. Error` = std_errors,
  `t value` = t_values,
  `Pr(>|t|)` = p_values
)


knitr::kable(regression_summary, format = "markdown", digits = 4, caption = "The influence of the minimum of nights on the price during the festival")



```


```{r, echo=FALSE}

coefficients2 <- coef(minimum_nights_off_festival)
std_errors2 <- summary(minimum_nights_off_festival)$coef[, "Std. Error"]
t_values2 <- coefficients2 / std_errors2
p_values2 <- summary(minimum_nights_off_festival)$coef[, "Pr(>|t|)"]


regression_summary2 <- data.frame(
  Coefficients = coefficients2,
  `Std. Error` = std_errors2,
  `t value` = t_values2,
  `Pr(>|t|)` = p_values2
)


knitr::kable(regression_summary2, format = "markdown", digits = 4, caption = "The influence of the minimum of nights on the price before and after the festival")

```




Lastly, a linear regression is shown with the influence of the number of reviews, the minimum nights, the room type and the neighborhood group on the price of the listings during the festival (Table 5). This linear regression gives a model that can be used by Airbnb hosts to define the pricing of their listings during Primavera Sound. 
The base model of the linear regression is an entire home/apt and a listing in the neighborhood group Ciutat VellaThis. From the regression can be concluded that price is positively influenced by minimum nights and number of reviews. There is also a significant difference in price revealed between the different neighborhoods and room types. The least expensive is a private room in Sant Andreu, and the most expensive is a hotel room in Horta-Guinard√≥. 


```{r, echo=FALSE}

coefficients4 <- coef(everything_during_festival)
std_errors4 <- summary(everything_during_festival)$coef[, "Std. Error"]
t_values4 <- coefficients4 / std_errors4
p_values4 <- summary(everything_during_festival)$coef[, "Pr(>|t|)"]


regression_summary4 <- data.frame(
  Coefficients = coefficients4,
  `Std. Error` = std_errors4,
  `t value` = t_values4,
  `Pr(>|t|)` = p_values4
)


knitr::kable(regression_summary4, format = "markdown", digits = 4, caption = "Influence of number of reviews, minimum nights, room type and neighborhood group on price during the festival")

```


## Conclusion

The results from the analyses show that there is indeed a significant price difference for Airbnb listings during the festival and normally, which answers the first hypothesis. Furthermore, it was also possible to create a model with which the prices of listings can be predicted during the festival . The price can be predicted based on the location, type of listings, minimum nights and the number or reviews. 